@model DAL.Models.Listing

@{
    ViewData["Title"] = "Edit";
}

<div class="container mt-4">
    <h2 class="mb-4">Edit Listing</h2>

    <form asp-action="Edit" method="post">
        @Html.AntiForgeryToken()

        <!-- Hidden fields -->
        <input asp-for="Id" type="hidden" />
        <input asp-for="ListerId" type="hidden" />
        <input asp-for="CreatedAt" type="hidden" />

        <!-- Basic Info -->
        <div class="row mb-4">
            <div class="col-md-6">
                <label class="form-label fw-bold">Transaction Type *</label>
                <select asp-for="TransactionType" class="form-select" required>
                    <option value="">-- Select --</option>
                    <option value="Sell">For Sale</option>
                    <option value="Rent">For Rent</option>
                </select>
            </div>
            <div class="col-md-6">
                <label class="form-label fw-bold">Status</label>
                <select asp-for="Status" class="form-select">
                    <option value="Draft">Draft</option>
                    <option value="PendingReview">Pending Review</option>
                    <option value="Published">Published</option>
                    <option value="Rejected">Rejected</option>
                    <option value="Hidden">Hidden</option>
                    <option value="Expired">Expired</option>
                    <option value="Violation">Violation</option>
                </select>
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-8">
                <label asp-for="Title" class="form-label fw-bold"></label>
                <input asp-for="Title" class="form-control" required />
            </div>
            <div class="col-md-4">
                <label asp-for="Price" class="form-label fw-bold"></label>
                <div class="input-group">
                    <input asp-for="Price" class="form-control" type="number" step="0.01" required />
                    <span class="input-group-text">VND</span>
                </div>
            </div>
        </div>

        <div class="mb-4">
            <label asp-for="Description" class="form-label fw-bold"></label>
            <textarea asp-for="Description" class="form-control" rows="4"></textarea>
        </div>

        <h5 class="border-bottom pb-2 mb-3">Property Details</h5>

        <div class="row mb-3">
            <div class="col-md-6">
                <label asp-for="PropertyType" class="form-label">Property Type *</label>
                <select asp-for="PropertyType" class="form-select" required>
                    <option value="">-- Select --</option>
                    <option value="Apartment">Apartment</option>
                    <option value="Private House">Private House</option>
                    <option value="Townhouse">Townhouse</option>
                    <option value="Land">Land</option>
                </select>
            </div>
            <div class="col-md-6">
                <label asp-for="LegalStatus" class="form-label">Legal Status</label>
                <input asp-for="LegalStatus" class="form-control" />
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-4">
                <label asp-for="Bedrooms" class="form-label">Bedrooms</label>
                <input asp-for="Bedrooms" class="form-control" type="number" min="0" />
            </div>
            <div class="col-md-4">
                <label asp-for="Bathrooms" class="form-label">Bathrooms</label>
                <input asp-for="Bathrooms" class="form-control" type="number" min="0" />
            </div>
            <div class="col-md-4">
                <label asp-for="Floors" class="form-label">Floors</label>
                <input asp-for="Floors" class="form-control" type="number" min="0" />
            </div>
        </div>

        <div class="row mb-4">
            <div class="col-md-6">
                <label asp-for="FurnitureStatus" class="form-label">Furniture Status</label>
                <input asp-for="FurnitureStatus" class="form-control" />
            </div>
            <div class="col-md-6">
                <label asp-for="Direction" class="form-label">Direction</label>
                <select asp-for="Direction" class="form-select">
                    <option value="">-- Select --</option>
                    <option value="North">North</option>
                    <option value="South">South</option>
                    <option value="East">East</option>
                    <option value="West">West</option>
                    <option value="NorthEast">North-East</option>
                    <option value="NorthWest">North-West</option>
                    <option value="SouthEast">South-East</option>
                    <option value="SouthWest">South-West</option>
                </select>
            </div>
        </div>

        <h5 class="border-bottom pb-2 mb-3">Location</h5>

        <div class="row mb-3">
            <div class="col-md-6">
                <label asp-for="City" class="form-label">City / Province *</label>
                <input asp-for="City" class="form-control" required />
            </div>
            <div class="col-md-6">
                <label asp-for="Area" class="form-label">District *</label>
                <input asp-for="Area" class="form-control" required />
            </div>
        </div>

        <div class="row mb-3">
            <div class="col-md-6">
                <label asp-for="Ward" class="form-label">Ward *</label>
                <input asp-for="Ward" class="form-control" required />
            </div>
            <div class="col-md-6">
                <label asp-for="StreetName" class="form-label">Street</label>
                <input asp-for="StreetName" class="form-control" />
            </div>
        </div>

        <div class="row mb-4">
            <div class="col-md-6">
                <label asp-for="HouseNumber" class="form-label">House Number</label>
                <input asp-for="HouseNumber" class="form-control" />
            </div>
            <div class="col-md-3">
                <label asp-for="Latitude" class="form-label">Latitude</label>
                <input asp-for="Latitude" class="form-control" type="number" step="0.000001" />
            </div>
            <div class="col-md-3">
                <label asp-for="Longitude" class="form-label">Longitude</label>
                <input asp-for="Longitude" class="form-control" type="number" step="0.000001" />
            </div>
        </div>

        <!-- Action Buttons -->
        <div class="d-flex gap-2">
            <button type="submit" class="btn btn-primary px-4">
                <i class="bi bi-check-circle"></i> Save Changes
            </button>
            <a asp-action="Details" asp-route-id="@Model.Id" class="btn btn-outline-secondary">Cancel</a>
            <a asp-action="Delete" asp-route-id="@Model.Id" class="btn btn-outline-danger ms-auto">
                <i class="bi bi-trash"></i> Delete
            </a>
        </div>
    </form>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
