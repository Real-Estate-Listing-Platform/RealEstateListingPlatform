@model RealEstateListingPlatform.Models.Listing

@{
    ViewData["Title"] = "Details";
}

<div class="container mt-4">

    <!-- Title & Price -->
    <div class="mb-3">
        <h2 class="fw-bold">@Model.Title</h2>
        <h4 class="text-danger">
            @String.Format("{0:N0}", Model.Price)
            <small class="text-muted">
                @(Model.TransactionType == "Rent" ? "VND / month" : "VND")
            </small>
        </h4>
    </div>

    <!-- Quick info -->
    <div class="row mb-4">
        <div class="col-md-3">
            <strong>Transaction</strong><br />
            @Model.TransactionType
        </div>
        <div class="col-md-3">
            <strong>Property Type</strong><br />
            @Model.PropertyType
        </div>
        <div class="col-md-3">
            <strong>Status</strong><br />
            <span class="badge bg-success">@Model.Status</span>
        </div>
        <div class="col-md-3">
            <strong>Created At</strong><br />
            @Model.CreatedAt.ToString("dd/MM/yyyy HH:mm")
        </div>
    </div>

    <hr />

    <!-- Location -->
    <h5 class="fw-bold mb-3">Location</h5>
    <p class="mb-1">
        @(string.IsNullOrEmpty(Model.HouseNumber) ? "" : Model.HouseNumber + ", ")
        @(string.IsNullOrEmpty(Model.StreetName) ? "" : Model.StreetName + ", ")
        @Model.Ward, @Model.Area, @Model.City
    </p>

    <!-- Detail info -->
    <div class="row mt-4">
        <div class="col-md-6">
            <table class="table table-borderless">
                <tr>
                    <th width="40%">City / Province</th>
                    <td>@Model.City</td>
                </tr>
                <tr>
                    <th>District</th>
                    <td>@Model.Area</td>
                </tr>
                <tr>
                    <th>Ward</th>
                    <td>@Model.Ward</td>
                </tr>
                <tr>
                    <th>Street</th>
                    <td>@Model.StreetName</td>
                </tr>
                <tr>
                    <th>House Number</th>
                    <td>@(Model.HouseNumber ?? "-")</td>
                </tr>
            </table>
        </div>

        <div class="col-md-6">
            <table class="table table-borderless">
                <tr>
                    <th width="40%">Latitude</th>
                    <td>@(Model.Latitude?.ToString("F6") ?? "-")</td>
                </tr>
                <tr>
                    <th>Longitude</th>
                    <td>@(Model.Longitude?.ToString("F6") ?? "-")</td>
                </tr>
                <tr>
                    <th>Listing ID</th>
                    <td>@Model.Id</td>
                </tr>
            </table>
        </div>
    </div>

    <hr />

    <!-- Actions -->
    <div class="mt-3">
        <a asp-action="Edit"
           asp-route-id="@Model.Id"
           class="btn btn-success">
            Edit
        </a>

        <a asp-action="Delete"
           asp-route-id="@Model.Id"
           class="btn btn-danger ms-2">
            Delete
        </a>

        <a asp-action="Index"
           class="btn btn-secondary ms-2">
            Cancel
        </a>
    </div>
</div>